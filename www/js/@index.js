function addListener(e,n){window.addEventListener?window.addEventListener(e,n,!1):window.attachEvent("on"+e,n)}var require=function(){var e={};return function(n,t){var r;if(t=window["#"+n],"undefined"==typeof t){var o=new Error("Required module is missing: "+n);throw console.error(o.stack),o}if(r=e[n],"undefined"==typeof r){r={exports:{}};var i=r.exports;t(i,r),e[n]=r.exports,r=r.exports}return r}}();addListener("DOMContentLoaded",function(){document.body.parentNode.$data={},APP=require("main"),setTimeout(function(){"function"==typeof APP.start&&APP.start()})});
window["#$"]=function(n,o){n.config={name:"Compass",description:"Simple magnetic compass for Firefox OS.",author:"Tolokoban",version:"1.1.0",major:1,minor:1,revision:0,date:new Date(2015,11,3,14,17,45)};var a=null;n.lang=function(n){return void 0===n&&(n=window.localStorage.getItem("Language"),n||(n=window.navigator.language,n||(n=window.navigator.browserLanguage,n||(n="fr"))),n=n.substr(0,2).toLowerCase()),a=n,window.localStorage.setItem("Language",n),n},n.intl=function(o,a){var r,i,t,e,g,s,l=o[n.lang()],u=a[0];if(!l)return console.error('Missing internationalization for language : "'+n.lang()+'"!'),u;if(r=l[u],!r)return console.error("Missing internationalization ["+n.lang()+']: "'+u+'"!'),u;if(a.length>1){for(i="",g=0,t=0;t<r.length;t++)e=r.charAt(t),"$"===e?(i+=r.substring(g,t),t++,s=r.charCodeAt(t)-48,i+=0>s||s>=a.length?"$"+r.charAt(t):a[s],g=t+1):"\\"===e&&(i+=r.substring(g,t),t++,i+=r.charAt(t),g=t+1);i+=r.substr(g),r=i}return r}};
window["#main"]=function(e,t){function n(){var e=document.querySelector("#invert");e.className=o?"yes":"no",e.textContent=o?"YES":"NO"}var o=parseInt(localStorage.getItem("compass-inverted")||0);e.start=function(){var e=document.querySelector("#compass"),t=document.querySelector("#numeric"),r=document.querySelector("#warning"),a=document.querySelector("#config"),c=document.querySelector("#warning-text"),s=document.querySelector("#button");s.addEventListener("touchstart",function(e){e.preventDefault(),e.stopPropagation(),o=o?0:1,localStorage.setItem("compass-inverted",o),n()},!0),n(),window.addEventListener("deviceorientation",function(n){var r=o?n.alpha:360-n.alpha;e.style.transform="rotate("+(360-r)+"deg)";var a=r.toFixed(1);t.innerHTML="<b>"+a.substr(0,a.length-1)+"</b><small>"+a.substr(a.length-1)+"</small> Â°"},!0),window.setTimeout(function(){r.className="hide"},3e3);var i=function(e){e.preventDefault(),e.stopPropagation(),a.classList.toggle("hide")};t.addEventListener("touchstart",i,!1),c.addEventListener("touchstart",i,!1)}};
//# sourceMappingURL=map/@index.js.map